webpackJsonp([11],{K31e:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("oOZB");var a=i("fT1p"),s=(i("V6jg"),i("AD3u")),c=(i("BnHG"),i("fyka")),o=(i("7e/k"),i("XJ53")),n=(i("Bk0m"),i("PXM1")),l=(i("vhY3"),i("ZAtG")),r=i("uvit"),u=i("cvKr");r.a.use(l.a),r.a.use(n.a),r.a.use(o.a),r.a.use(c.a),r.a.use(s.a),r.a.use(a.a);var d={name:"bindLogin",data:function(){return{clientType:0,checked:!0,formType:1,tel_zhuce:"",sms_zhuce:"",password_zhuce:"",time_zhuce:0,tel_xiugai:"",sms_xiugai:"",password_xiugai:"",time_xiugai:0,account:"",password:""}},methods:{closeBingLogin:function(){var t=this.$store.getters.getlogin;t.status=!1,this.$store.commit("setLogin",t)},onPrivacy:function(){this.$router.push("/privacy")},onAgreement:function(){this.$router.push("/agreement")},timeOut:function(t){var e=this;if(0!=e.time_zhuce||0!=e.time_xiugai)return Object(a.a)("发送验证码频繁"),!1;if(2==e.formType){if(""==e.tel_zhuce)return!1;this.$api.article.code({type:1,phone:e.tel_zhuce,uid:0}).then(function(i){console.log(i.data),e.time_zhuce=t;var a=setInterval(function(){e.time_zhuce--,0==e.time_zhuce&&clearInterval(a)},1e3)}).catch(function(t){console.log(t)})}if(3==e.formType){if(""==e.tel_xiugai)return!1;this.$api.article.code({type:3,phone:e.tel_xiugai,uid:0}).then(function(i){console.log(i.data),e.time_xiugai=t;var a=setInterval(function(){e.time_xiugai--,0==e.time_xiugai&&clearInterval(a)},1e3)}).catch(function(t){console.log(t)})}},postLoginData:function(){if(1==this.formType){if(""==this.account)return!1;if(""==this.password)return!1;if(!this.checked)return Object(a.a)("请勾选用户协议&隐私政策"),!1;this.$api.article.login({type:3,phone:this.account,pwd:this.password,tune:this.$store.getters.getTune,client:2,clientType:this.clientType,gameid:0}).then(function(t){console.log(t),Object(u.i)(t.data.data)}).catch(function(t){console.log(t)})}if(2==this.formType){if(""==this.tel_zhuce)return!1;if(""==this.sms_zhuce)return!1;if(""==this.password_zhuce)return!1;this.$api.article.login({type:2,phone:this.tel_zhuce,code:this.sms_zhuce,pwd:this.password_zhuce,tune:this.$store.getters.getTune,client:2,clientType:this.clientType,gameid:0}).then(function(t){Object(u.i)(t.data.data)}).catch(function(t){console.log(t)})}if(3==this.formType){if(""==this.tel_xiugai)return!1;if(""==this.sms_xiugai)return!1;if(""==this.password_xiugai)return!1;this.$api.article.forgetPwd({phone:this.tel_xiugai,code:this.sms_xiugai,pwd:this.password_xiugai}).then(function(t){Object(a.a)("修改成功")}).catch(function(t){console.log(t)})}}},created:function(){/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.clientType=2:/(Android)/i.test(navigator.userAgent)?this.clientType=1:this.clientType=3},mounted:function(){}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"zlhy-login-page"},on:{click:t.closeBingLogin}},[a("div",{staticClass:"box",on:{click:function(t){t.stopPropagation()}}},[1==t.formType?a("div",{staticClass:"form"},[a("div",{staticClass:"list"},[a("van-field",{attrs:{"left-icon":i("hPTc"),placeholder:"请输入账号"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),t._v(" "),a("div",{staticClass:"list"},[a("van-field",{attrs:{"left-icon":i("NV7h"),type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"loginAgreement"},[a("van-checkbox",{attrs:{"icon-size":"15px","checked-color":"#07c160"},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读")]),t._v(" "),a("span",{on:{click:t.onAgreement}},[t._v("《用户协议》")]),t._v(" "),a("span",{on:{click:t.onPrivacy}},[t._v("《隐私政策》")])],1),t._v(" "),a("a",{staticClass:"postBind",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:t.postLoginData}},[t._v("登录")]),t._v(" "),a("div",{staticClass:"tabs"},[a("a",{staticClass:"tabs_l",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){t.formType=2}}},[t._v("账号注册")]),t._v(" "),a("a",{staticClass:"tabs_r",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){t.formType=3}}},[t._v("忘记密码")])])]):2==t.formType?a("div",{staticClass:"form"},[a("div",{staticClass:"list"},[a("van-field",{attrs:{type:"tel","left-icon":i("h+HJ"),placeholder:"请输入手机号码"},model:{value:t.tel_zhuce,callback:function(e){t.tel_zhuce=e},expression:"tel_zhuce"}})],1),t._v(" "),a("div",{staticClass:"list"},[a("van-field",{attrs:{center:"",clearable:"",placeholder:"请输入短信验证码",maxlength:"6","left-icon":i("tPjp")},model:{value:t.sms_zhuce,callback:function(e){t.sms_zhuce=e},expression:"sms_zhuce"}}),t._v(" "),0==t.time_zhuce?a("a",{staticClass:"getCode",staticStyle:{"background-color":"#38dafd"},attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){return t.timeOut(60)}}},[t._v("获取验证码")]):a("a",{staticClass:"getCode",staticStyle:{"background-color":"#cccccc"},attrs:{href:"javascript:void(0);",target:"_self"}},[t._v(t._s(t.time_zhuce))])],1),t._v(" "),a("div",{staticClass:"list"},[a("van-field",{attrs:{"left-icon":i("NV7h"),type:"password",placeholder:"请输入密码"},model:{value:t.password_zhuce,callback:function(e){t.password_zhuce=e},expression:"password_zhuce"}})],1),t._v(" "),a("a",{staticClass:"postBind",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:t.postLoginData}},[t._v("注册登录")]),t._v(" "),a("div",{staticClass:"tabs"},[a("a",{staticClass:"tabs_l",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){t.formType=1}}},[t._v("账号登录")])])]):3==t.formType?a("div",{staticClass:"form"},[a("div",{staticClass:"list"},[a("van-field",{attrs:{type:"tel","left-icon":i("h+HJ"),placeholder:"请输入手机号码"},model:{value:t.tel_xiugai,callback:function(e){t.tel_xiugai=e},expression:"tel_xiugai"}})],1),t._v(" "),a("div",{staticClass:"list"},[a("van-field",{attrs:{center:"",clearable:"",placeholder:"请输入短信验证码",maxlength:"6","left-icon":i("tPjp")},model:{value:t.sms_xiugai,callback:function(e){t.sms_xiugai=e},expression:"sms_xiugai"}}),t._v(" "),0==t.time_xiugai?a("a",{staticClass:"getCode",staticStyle:{"background-color":"#38dafd"},attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){return t.timeOut(60)}}},[t._v("获取验证码")]):a("a",{staticClass:"getCode",staticStyle:{"background-color":"#cccccc"},attrs:{href:"javascript:void(0);",target:"_self"}},[t._v(t._s(t.time_xiugai))])],1),t._v(" "),a("div",{staticClass:"list"},[a("van-field",{attrs:{"left-icon":i("NV7h"),type:"password",placeholder:"请输入密码"},model:{value:t.password_xiugai,callback:function(e){t.password_xiugai=e},expression:"password_xiugai"}})],1),t._v(" "),a("a",{staticClass:"postBind",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:t.postLoginData}},[t._v("修改密码")]),t._v(" "),a("div",{staticClass:"tabs"},[a("a",{staticClass:"tabs_l",attrs:{href:"javascript:void(0);",target:"_self"},on:{click:function(e){t.formType=1}}},[t._v("账号登录")])])]):t._e()])])},staticRenderFns:[]};var f=i("C7Lr")(d,h,!1,function(t){i("WxPP")},"data-v-0dc74db1",null);e.default=f.exports},WxPP:function(t,e){}});